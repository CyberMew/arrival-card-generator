<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Arrival Card QR Decoder & Editor (Fixed)</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
  <style>
    body {
      font-family: sans-serif;
      padding: 1rem;
    }

    h3 {
      margin-top: 2em;
      margin-bottom: 0.5em;
    }

    label {
      display: block;
      margin: 8px 0;
    }

    input:not([type="radio"]),
    select,
    textarea {
      width: 300px;
      padding: 4px;
    }

    small {
      display: block;
      margin-top: -6px;
      margin-bottom: 6px;
      color: #337ab7;
      font-size: 0.85em;
      font-style: italic;
    }

    pre {
      white-space: pre-wrap;
      word-break: break-word;
    }

    .json-key {
      color: #888;
      font-size: 0.9em;
      margin-left: 8px;
    }

    .conditional {
      display: none;
      margin-left: 1rem;
    }

    .required::before {
      content: "* ";
      color: red;
    }

    .radio-inline {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5em 2em;
      margin-left: 1em;
    }

    .radio-inline label {
      display: flex;
      align-items: center;
      gap: 0.5em;
      padding: 2px 6px;
      background-color: #f9f9f9;
    }

    input[type="radio"] {
      width: auto;
      height: auto;
      margin-right: 4px;
      vertical-align: middle;
    }

    input:required:invalid {
      border: 1px solid #d9534f;
    }

    input:required:valid {
      border: 1px solid #5cb85c;
    }

    input,
    select,
    label {
      transition: background-color 0.8s ease;
      /* Smooth transition for background color */
    }

    .highlight {
      background-color: #d8f5d8;
      /* Lighter green for a gentler effect */
    }

    /* Add this CSS for horizontal language selector */
    .language-selector {
      display: flex;
      gap: 1rem;
      /* Add spacing between the radio buttons */
      margin-bottom: 1rem;
      /* Add some space below the language selector */
    }

    .language-selector label {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      /* Add spacing between the radio button and label text */
    }

    div {
      display: flow-root;
    }

    p {
      /* default is 16 but too much */
      margin: 5px;
    }
  </style>
  <script>
    function toggleConditional(key) {
      const show = (id, visible) => {
        const el = document.getElementById(`cond-${id}`);
        if (el) el.style.display = visible ? 'block' : 'none';
      };
      let value;
      const radios = document.querySelectorAll(`[name='${key}']`);
      if (radios.length > 0 && radios[0].type === "radio") {
        const selected = [...radios].find(r => r.checked);
        value = selected?.value;
      } else {
        value = document.querySelector(`[name='${key}']`)?.value;
      }
      if (key === 'visaFree') show('visaFree', value === '0');
      if (key === 'check1') show('check1', value === '1');
      if (key === 'check2') show('check2', value === '1');
    }

    function toggleVisaNo() {
      const visaFreeValue = document.querySelector('input[name="visaFree"]:checked')?.value;
      const visaNoContainer = document.getElementById("visaNoContainer");
      if (visaFreeValue === "0") {
        visaNoContainer.style.display = "block"; // Show Visa No. field
      } else {
        visaNoContainer.style.display = "none"; // Hide Visa No. field
      }
    }

    function handleFormSubmit(event) {
      event.preventDefault();
      const form = document.getElementById('arrivalForm');
      if (!form.checkValidity()) {
        form.reportValidity();
        return false;
      }
      encodeAndGenerateQR();
      return false;
    }

    function decodeAndFill() {
      let debugEl = document.getElementById("debugJson");
      if (!debugEl) {
        debugEl = document.createElement("pre");
        debugEl.id = "debugJson";
        document.body.appendChild(debugEl);
      }
      const input = document.getElementById("inputBase64").value.trim();
      if (!input) return alert("Please enter a base64 string.");
      try {
        const key = "sdgdfjytyjkueesh";
        const iv = "fhgtdytestgrjrtd";
        decryptAES(input, key, iv).then(decrypted => {
          const data = JSON.parse(decrypted);
          debugEl.textContent = JSON.stringify(data, null, 2);

          // Iterate over the keys in the decoded data
          Object.keys(data).forEach(key => {
            const field = document.querySelector(`[name="${key}"]`);
            if (!field) return;

            if (field.type === "radio") {
              const radio = document.querySelector(`[name="${key}"][value="${data[key]}"]`);
              if (radio) {
                radio.checked = true;
                radio.parentElement.classList.add("highlight");
                setTimeout(() => { radio.parentElement.classList.remove("highlight"); }, 1500);
              }
            } else {
              field.value = data[key];
              field.classList.add("highlight");
              setTimeout(() => { field.classList.remove("highlight"); }, 1500);
            }
            toggleConditional(key);
          });

          // Handle visaFree logic based on qzhm
          const visaNo = data.qzhm; // Check if qzhm (Visa No.) is provided
          const visaFreeValue = visaNo ? "0" : "1"; // "0" for No, "1" for Yes
          const visaFreeRadio = document.querySelector(`[name="visaFree"][value="${visaFreeValue}"]`);
          if (visaFreeRadio) {
            visaFreeRadio.checked = true;
            toggleVisaNo(); // Ensure the Visa No. field visibility is updated
          }
        });

      } catch (err) {
        debugEl.textContent = "âš  Failed to decode or parse Base64 string.";
        alert("Failed to decode or parse base64 string.");
      }
    }

    // Reusable function to collect and process form data
    function collectFormData() {
      const formData = {};
      document.querySelectorAll("#arrivalForm input, #arrivalForm select, #arrivalForm textarea").forEach(el => {
        if ((el.type === "radio" || el.type === "checkbox") && !el.checked) return;
        formData[el.name] = el.value;
      });

      // Add missing fields
      formData["t"] = Date.now(); // Epoch time in milliseconds
      formData["brdhhm"] = document.querySelector('[name="brdhhm"]')?.value || ""; // Add personal phone number

      // Convert fields to correct data types
      formData["check1"] = parseInt(formData["check1"], 10);
      formData["check2"] = parseInt(formData["check2"], 10);
      formData["check3"] = parseInt(formData["check3"], 10);
      formData["lb"] = parseInt(formData["lb"], 10);

      // Preserve field order
      const orderedKeys = [
        "x", "m", "xb", "gj", "csrq", "zwxm", "lxzjhm", "check1", "qzhm", "ddhb", "brdhhm",
        "zhjt", "zhzz", "zhzzcs", "rjsy", "check2", "cjsj", "cjhb", "check3", "yqrmc",
        "yqrlxfs", "cqgj", "lb", "t"
      ];
      const orderedFormData = {};
      orderedKeys.forEach(key => {
        if (formData[key] !== undefined) {
          orderedFormData[key] = formData[key];
        }
      });

      return orderedFormData;
    }

    // Reusable function to encrypt data
    async function encryptData(data) {
      const jsonString = JSON.stringify(data);
      const key = "sdgdfjytyjkueesh";
      const iv = "fhgtdytestgrjrtd";
      return await encryptAES(jsonString, key, iv);
    }

    // Reusable function for QR code generation
    async function generateQRCode(data, qrSize = 256, errorCorrection = "M") {
      const qrContainer = document.getElementById("qrcode");
      qrContainer.innerHTML = ""; // Clear previous QR code

      new QRCode(qrContainer, {
        text: data,
        width: qrSize,
        height: qrSize,
        correctLevel: QRCode.CorrectLevel[errorCorrection]
      });
    }

    // Function to handle "Encode to Base64 + QR" button
    async function encodeAndGenerateQR() {
      const formData = collectFormData();
      const encrypted = await encryptData(formData);

      // Display Base64 string
      document.getElementById("outputBase64").textContent = encrypted;

      // Generate QR code
      const qrSize = parseInt(document.getElementById("qrSize").value, 10);
      const errorCorrection = document.getElementById("errorCorrection").value;
      await generateQRCode(encrypted, qrSize, errorCorrection);
    }

    // Function to handle "Generate QR Code" button
    async function handleGenerateQRCode() {
      const formData = collectFormData();
      const encrypted = await encryptData(formData);

      // Generate QR code
      const qrSize = parseInt(document.getElementById("qrSize").value, 10);
      const errorCorrection = document.getElementById("errorCorrection").value;
      await generateQRCode(encrypted, qrSize, errorCorrection);
    }

    // AES Encryption using Web Crypto API
    async function encryptAES(plainText, key, iv) {
      const encoder = new TextEncoder();
      const encodedText = encoder.encode(plainText);
      const cryptoKey = await crypto.subtle.importKey(
        "raw",
        encoder.encode(key),
        { name: "AES-CBC" },
        false,
        ["encrypt"]
      );
      const encrypted = await crypto.subtle.encrypt(
        { name: "AES-CBC", iv: encoder.encode(iv) },
        cryptoKey,
        encodedText
      );
      return btoa(String.fromCharCode(...new Uint8Array(encrypted)));
    }

    // AES Decryption using Web Crypto API
    async function decryptAES(encryptedBase64, key, iv) {
      const decoder = new TextDecoder();
      const encryptedBytes = Uint8Array.from(atob(encryptedBase64), c => c.charCodeAt(0));
      const cryptoKey = await crypto.subtle.importKey(
        "raw",
        new TextEncoder().encode(key),
        { name: "AES-CBC" },
        false,
        ["decrypt"]
      );
      const decrypted = await crypto.subtle.decrypt(
        { name: "AES-CBC", iv: new TextEncoder().encode(iv) },
        cryptoKey,
        encryptedBytes
      );
      return decoder.decode(decrypted);
    }
  </script>
</head>

<body>
  <h2>ğŸ›‚ Arrival Card QR Decoder & Editor</h2>
  <div style="margin-top: 10px; padding: 10px; background-color: #f9f9f9; border: 1px solid #ddd; border-radius: 5px;">
    <p>
      This tool is a standalone version of the arrival card generator. It allows you to decode, edit, and generate QR codes for arrival card information. 
      For more details about the JSON keys and their meanings, please refer to the 
      <a href="https://github.com/cybermew/arrival-card-generator#input-keys-and-their-meanings" target="_blank">README</a>.
    </p>
    <p>
      If you encounter any issues or have suggestions for improvements, please visit the 
      <a href="https://github.com/cybermew/arrival-card-generator" target="_blank">GitHub project</a>.
    </p>
    <p style="color: red; font-weight: bold;">
      Disclaimer: This tool is <strong>not an official arrival form</strong> and is not affiliated with any government or immigration authority. Please verify all information with official sources.
    </p>
  </div>
  <label for="inputBase64">Paste Encrypted Base64 String:</label>
  <textarea id="inputBase64" rows="5" cols="80"></textarea><br>
  <button onclick="decodeAndFill()">ğŸ”“ Decode & Fill Form</button>

  <h3>Decoded JSON Debug Preview:</h3>
  <pre id="debugJson"></pre>

  <hr>
  <form id="arrivalForm" onsubmit="return handleFormSubmit(event);">
    <!-- Language Selection -->
    <div class="language-selector">
      <label><input type="radio" name="language" value="en" checked onclick="setLanguage('en')"> English</label>
      <label><input type="radio" name="language" value="ja" onclick="setLanguage('ja')"> æ—¥æœ¬èª</label>
      <label><input type="radio" name="language" value="ko" onclick="setLanguage('ko')"> í•œêµ­ì–´</label>
      <label><input type="radio" name="language" value="ru" onclick="setLanguage('ru')"> Ğ ÑƒÑÑĞºĞ¸Ğ¹</label>
      <label><input type="radio" name="language" value="fr" onclick="setLanguage('fr')"> FranÃ§ais</label>
      <label><input type="radio" name="language" value="es" onclick="setLanguage('es')"> EspaÃ±ol</label>
    </div>

    <h3>ğŸ§‘ Personal Information</h3>
    <small>Please fill in your personal details as per your passport.</small>
    <label class="required">å§“ / <span data-translate="surname">Surname</span> (x): <input name="x" required></label>
    <label class="required">å / <span data-translate="givenNames">Given Names</span> (m): <input name="m"
        required></label>
    <label>ä¸­æ–‡å / <span data-translate="chineseName">Chinese Name</span> (zwxm): <input name="zwxm"></label>
    <label class="required">æ€§åˆ« / <span data-translate="gender">Gender</span> (xb):</label>
    <div class="radio-inline">
      <label><input type="radio" name="xb" value="Male"> <span data-translate="male">Male</span></label>
      <label><input type="radio" name="xb" value="Female"> <span data-translate="female">Female</span></label>
    </div>
    <label class="required">å›½ç± / <span data-translate="nationality">Nationality</span> (gj): <input name="gj"
        required></label>
    <label class="required">å‡ºç”Ÿæ—¥æœŸ / <span data-translate="dob">Date of Birth</span> (csrq): <input name="csrq"
        type="date" required></label>
    <label>ä¸ªäººç”µè¯å·ç  / <span data-translate="personalPhone">Personal Phone Number</span> (brdhhm):
      <input name="brdhhm" type="tel" placeholder="Enter your phone number">
    </label>

    <!-- ğŸ›‚ Travel Document Information -->
    <h3>ğŸ›‚ Travel Document Information</h3>
    <small>Provide details of your travel document and visa status.</small>
    <label class="required">æŠ¤ç…§å·ç  / <span data-translate="passportNo">Passport No</span> (lxzjhm): <input name="lxzjhm"
        required></label>

    <!-- Visa-Free Radio Buttons -->
    <label class="required">å…ç­¾ / <span data-translate="visaFree">Visa-Free</span>:</label>
    <div class="radio-inline">
      <label><input type="radio" name="visaFree" value="1" onclick="toggleVisaNo()"> <span
          data-translate="yes">Yes</span></label>
      <label><input type="radio" name="visaFree" value="0" onclick="toggleVisaNo()"> <span
          data-translate="no">No</span></label>
    </div>

    <!-- Visa No. Field -->
    <div id="visaNoContainer" style="display: none;">
      <label>ç­¾è¯å·ç  / <span data-translate="visaNo">Visa No</span> (qzhm): <input name="qzhm"></label>
    </div>

    <!-- ğŸšª Departure Information -->
    <h3>ğŸšª Departure Information</h3>
    <small>Provide details about your departure from China, including ticket status and transport mode.</small>
    <label class="required">æ˜¯å¦å·²é¢„è®¢ç¦»å¢ƒç¥¨ / <span data-translate="departureTicket">Departure Ticket Booked</span>
      (check1):</label>
    <div class="radio-inline">
      <label><input type="radio" name="check1" value="1"> <span data-translate="bookedTheTicketYes">Yes</span></label>
      <label><input type="radio" name="check1" value="0"> <span data-translate="bookedTheTicketNo">No</span></label>
    </div>
    <label>å‡ºå¢ƒæ—¶é—´ / <span data-translate="dateOfDeparture">Date of departure</span> (cjsj): <input name="cjsj"
        type="date"></label>
    <label>å‡ºå¢ƒèˆªç­/è½¦æ¬¡/èˆ¹å / <span data-translate="departureFlight">Departure Flight No./Train No./Vessel Name</span> (cjhb):
      <input name="cjhb"></label>

    <!-- ğŸ›¬ Arrival Information -->
    <h3>ğŸ›¬ Arrival Information</h3>
    <small>Enter details about your arrival in China, including transport mode and arrival location.</small>
    <label>æŠµè¾¾èˆªç­ / <span data-translate="arrivalFlight">Arrival Flight</span> (ddhb): <input name="ddhb"></label>
    <label>åœ¨åç»åœå’Œç›®çš„åŸå¸‚ / <span data-translate="cities">Cities intended to visit in China</span> (zhjt): <input
        name="zhjt"></label>
    <label class="required">åœ¨åè¯¦ç»†åœ°å€æˆ–æ—…é¦†åç§° / <span data-translate="detailedAddress">Detailed address or hotel name while in
        China</span> (zhzz): <input name="zhzz" required></label>
    <label class="required">å¸‚ / <span data-translate="city">City</span> (zhzzcs): <input name="zhzzcs" required></label>

    <!-- ğŸ¯ Purpose of Trip -->
    <h3>ğŸ¯ Purpose of Trip</h3>
    <small>Please select your purpose of travel as shown on your visa or ticket.</small>
    <label>å…¥å¢ƒäº‹ç”± / <span data-translate="purpose">Purpose of this trip</span> (rjsy):</label>
    <div class="radio-inline">
      <label><input type="radio" name="rjsy" value="å¤–äº¤/å…¬åŠ¡"> å¤–äº¤/å…¬å‹™ / <span
          data-translate="diplomacy">Diplomacy/Official</span></label>
      <label><input type="radio" name="rjsy" value="è®¿é—®"> è®¿é—® / <span
          data-translate="visiting">Visiting/Business</span></label>
      <label><input type="radio" name="rjsy" value="æ°¸ä¹…å±…ç•™"> æ°¸ä¹…å±…ç•™ / <span data-translate="permanentResidence">Permanent
          Residence</span></label>
      <label><input type="radio" name="rjsy" value="å°±ä¸š"> å°±ä¸š / <span
          data-translate="employment">Employment</span></label>
      <label><input type="radio" name="rjsy" value="å­¦ä¹ "> å­¦ä¹  / <span data-translate="study">Study</span></label>
      <label><input type="radio" name="rjsy" value="æ—…æ¸¸"> æ—…æ¸¸ / <span data-translate="tourism">Tourism</span></label>
      <label><input type="radio" name="rjsy" value="æ¢äº²"> æ¢äº² / <span data-translate="visitingRelatives">Visiting
          Relatives</span></label>
      <label><input type="radio" name="rjsy" value="è¿‡å¢ƒ"> è¿‡å¢ƒ / <span data-translate="transit">Transit</span></label>
      <label><input type="radio" name="rjsy" value="å…¶ä»–"> å…¶ä»– / <span data-translate="others">Others</span></label>
    </div>

    <!-- ğŸ‘¥ Contact in China -->
    <h3>ğŸ‘¥ Contact in China</h3>
    <small>Provide details of your contact person in China, if applicable.</small>
    <label class="required">æ˜¯å¦æœ‰ä¸­å›½è”ç³»äºº / <span data-translate="contactsInChina">Have Contact in China</span>
      (check2):</label>
    <div class="radio-inline">
      <label><input type="radio" name="check2" value="1"> æ˜¯ / <span
          data-translate="contactsInChinaYes">Yes</span></label>
      <label><input type="radio" name="check2" value="0"> å¦ / <span data-translate="contactsInChinaNo">No</span></label>
    </div>
    <label>è”ç³»äººå§“å / <span data-translate="nameOfChineseInvitingUnit">Name of Chinese Reception Unit or Contact</span>
      (yqrmc): <input name="yqrmc"></label>
    <label>è”ç³»äººåœ°å€ / <span data-translate="addressOfChineseInvitingUnit">Address of Contact of the Chinese Contact</span>
      (yqrlxfs): <input name="yqrlxfs"></label>
    <label class="required">æ¥å¾…å•ä½ç¡®è®¤ / <span data-translate="receptionConfirmed">Reception Unit Confirmed</span>
      (check3):</label>
    <div class="radio-inline">
      <label><input type="radio" name="check3" value="1"> æ˜¯ / <span
          data-translate="bookedTheTicketYes">Yes</span></label>
      <label><input type="radio" name="check3" value="0"> å¦ / <span data-translate="bookedTheTicketNo">No</span></label>
    </div>

    <!-- ğŸŒ Travel History -->
    <h3>ğŸŒ Travel History</h3>
    <small>List the countries you have visited recently.</small>
    <label>æ‚¨è¿‡å»ä¸¤å¹´æ›¾å»è¿‡å“ªäº›å›½å®¶ï¼ˆåœ°åŒºï¼‰ / <span data-translate="countriesVisited">Countries Visited</span> (cqgj):</label>
    <div>
      <textarea name="cqgj" rows="3" cols="40"></textarea>
    </div>

    <input type="hidden" name="lb" value="1">
  </form>

  <br>
  <button onclick="encodeAndGenerateQR()">ğŸ” Encode to Base64 + QR</button>
  <h3>Base64 Output:</h3>
  <pre id="outputBase64"></pre>

  <!-- Add options for QR code generation -->
  <label for="errorCorrection">Error Correction Level:</label>
  <select id="errorCorrection">
    <option value="L">L (Low ~7%)</option>
    <option value="M" selected>M (Medium ~15%)</option>
    <option value="Q">Q (Quartile ~25%)</option>
    <option value="H">H (High ~30%)</option>
  </select>

  <label for="qrSize">QR Code Size:</label>
  <input id="qrSize" type="number" value="256" min="128" max="512"> <!-- Size in pixels -->

  <button onclick="handleGenerateQRCode()">Generate QR Code</button>

  <div id="qrcode"></div>

  <script>
    const translations = {
      en: {
        detailedAddress: "Detailed address or hotel name while in China",
        departureFlight: "Departure Flight No./Train No./Vessel Name",
        dateOfDeparture: "Date of departure",
        cities: "Cities intended to visit in China",
        surname: "Surname",
        givenNames: "Given names",
        gender: "Gender",
        male: "Male",
        female: "Female",
        nationality: "Nationality",
        dob: "Date of birth",
        chineseName: "Chinese name (if applicable)",
        passportNo: "Passport No.",
        visa: "Visa",
        visaFree: "Visa-Free",
        visaFreeYes: "Yes",
        visaFreeNo: "No",
        visaNo: "Visa No.",
        arrivalFlight: "Arrival Flight No. / Train No./ Vessel Name",
        personalPhone: "Personal phone No.",
        residence: "Residence Information in China",
        city: "City",
        purpose: "Purpose of this trip",
        diplomacy: "Diplomacy/Official",
        visiting: "Visiting/Business",
        permanentResidence: "Permanent Residence",
        employment: "Employment",
        study: "Study",
        tourism: "Tourism",
        visitingRelatives: "Visiting Relatives",
        transit: "Transit",
        others: "Others",
        questions: "Questions",
        bookedTheTicket: "Have you booked the ticket for your departure? If yes, please write down your departure information.",
        bookedTheTicketYes: "Yes",
        bookedTheTicketNo: "No",
        contactsInChina: "Do you have any reception unit or contacts in China? If yes, please write down the contact information.",
        contactsInChinaYes: "Yes",
        contactsInChinaNo: "No",
        nameOfChineseInvitingUnit: "Name of Chinese inviting unit or inviter",
        addressOfChineseInvitingUnit: "Address or contact phone number of the Chinese inviting unit or person",
        countriesVisited: "Which countries and regions have you ever been to in the past two years?",
        receptionConfirmed: "Reception Unit Confirmed",
      },
      ja: {
        detailedAddress: "ä¸­å›½ã®ä½æ‰€ã¾ãŸã¯ãƒ›ãƒ†ãƒ«ã®åå‰",
        departureFlight: "å‡ºç™ºä¾¿å/åˆ—è»Šç•ªå·/èˆ¹å",
        dateOfDeparture: "å‡ºå›½æ™‚é–“",
        cities: "ä¸­å›½ã®å¯„æ¸¯åœ°ãŠã‚ˆã³ç›®çš„åœ°éƒ½å¸‚",
        surname: "å§“",
        givenNames: "å",
        gender: "æ€§åˆ¥",
        male: "ç”·",
        female: "å¥³",
        nationality: "å›½ç±",
        dob: "ç”Ÿå¹´æœˆæ—¥",
        chineseName: "ä¸­å›½èªã®åå‰ï¼ˆä¸­å›½èªã§ã”è¨˜å…¥ãã ã•ã„ï¼‰",
        passportNo: "ãƒ‘ã‚¹ãƒãƒ¼ãƒˆç•ªå·",
        visa: "ãƒ“ã‚¶æƒ…å ±",
        visaFree: "ãƒ“ã‚¶å…é™¤",
        visaFreeYes: "ã¯ã„",
        visaFreeNo: "ã„ã„ãˆ",
        visaNo: "ãƒ“ã‚¶ç•ªå·",
        arrivalFlight: "åˆ°ç€ä¾¿å/åˆ—è»Šç•ªå·/èˆ¹å",
        personalPhone: "æœ¬äººã®é›»è©±ç•ªå·",
        residence: "åœ¨ä¸­å›½å±…ä½æƒ…å ±",
        city: "å¸‚",
        purpose: "å…¥å›½äº‹ç”±",
        diplomacy: "å¤–äº¤/å…¬å‹™",
        visiting: "è¨ªå•/ãƒ“ã‚¸ãƒã‚¹",
        permanentResidence: "å®šä½",
        employment: "å°±åŠ´",
        study: "å­¦ç¿’",
        tourism: "è¦³å…‰",
        visitingRelatives: "è¦ªæˆšå›ã‚Š",
        transit: "ãƒˆãƒ©ãƒ³ã‚¸ãƒƒãƒˆ",
        others: "ãã®ã»ã‹",
        questions: "è³ªå•äº‹é …",
        bookedTheTicket: "å¾€è·¯ã®æ—…ç¨‹ã¯ç¢ºå®šã—ã¦ã„ã¾ã™ã‹ï¼Ÿã€Œã¯ã„ã€ã®å ´åˆã€ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’å…·ä½“çš„ã«æ•™ãˆã¦ãã ã•ã„.",
        bookedTheTicketYes: "ã¯ã„",
        bookedTheTicketNo: "ã„ã„ãˆ",
        contactsInChina: "ä¸­å›½å´ã®æ‹›å¾…æ©Ÿé–¢ã¾ãŸã¯æ‹›å¾…è€…ãŒã„ã‚‰ã£ã—ã‚ƒã„ã¾ã™ã‹ï¼Ÿã€Œã„ã‚‹ã€å ´åˆã¯ã€é€£çµ¡å…ˆã‚’ã”è¨˜å…¥ãã ã•ã„.",
        contactsInChinaYes: "ã¯ã„",
        contactsInChinaNo: "ã„ã„ãˆ",
        nameOfChineseInvitingUnit: "ä¸­å›½å´æ‹›å¾…æ©Ÿé–¢ã¾ãŸã¯æ‹›å¾…è€…å",
        addressOfChineseInvitingUnit: "ä¸­å›½å´æ‹›å¾…æ©Ÿé–¢ã¾ãŸã¯æ‹›å¾…è€…ã®ä½æ‰€ã¾ãŸã¯é€£çµ¡å…ˆ",
        countriesVisited: "éå»2å¹´é–“ã«ã©ã®å›½ï¼ˆåœ°åŸŸï¼‰ã‚’è¡Œã‹ã‚Œã¾ã—ãŸã‹?",
        receptionConfirmed: "æ¥å¾…å˜ä½ã®ç¢ºèª",
      },
      ko: {
        detailedAddress: "ì¤‘êµ­ì—ì„œì˜ ì£¼ì†Œ ë˜ëŠ” í˜¸í…” ì´ë¦„",
        departureFlight: "ì¶œêµ­ í•­ê³µí¸/ì°¨ìˆ˜/ì„ ëª…",
        dateOfDeparture: "ì¶œêµ­ì‹œê°„",
        cities: "ì¤‘í™”ì¸ë¯¼ê³µí™”êµ­ì˜ ê²½ì œ ì •ì§€ ë° ëª©ì  ë„ì‹œ",
        surname: "ì„±",
        givenNames: "ëª…",
        gender: "ì„±ë³„",
        male: "ë‚¨",
        female: "ë…€",
        nationality: "êµ­ì ",
        dob: "ìƒë…„ì›”ì¼",
        chineseName: "ì¤‘ë¬¸ì´ë¦„(ì¤‘êµ­ì–´ë¡œ ì‘ì„±í•´ì£¼ì„¸ìš”)",
        passportNo: "ì—¬ê¶Œë²ˆí˜¸",
        visa: "ë¹„ì ì •ë³´",
        visaFree: "ë¹„ìë©´ì œ",
        visaFreeYes: "ì˜ˆ",
        visaFreeNo: "ì•„ë‹ˆìš”",
        visaNo: "ë¹„ìë²ˆí˜¸",
        arrivalFlight: "ë„ì°©í¸/ì°¨ìˆ˜/ì„ ëª…",
        personalPhone: "ë³¸ì¸ ì „í™”ë²ˆí˜¸",
        residence: "ì¤‘êµ­ ê±°ì£¼ ì •ë³´",
        city: "ì‹œ",
        purpose: "ì…êµ­ ì‚¬ìœ ",
        diplomacy: "ì™¸êµ/ê³µë¬´",
        visiting: "ë°©ë¬¸/ë¹„ì¦ˆë‹ˆìŠ¤",
        permanentResidence: "ê±°ì£¼ì§€",
        employment: "ì—…ë¬´",
        study: "ê³µë¶€",
        tourism: "ì—¬í–‰",
        visitingRelatives: "ì¹œì²™ ë°©ë¬¸",
        transit: "í™˜ìŠ¹",
        others: "ê¸°íƒ€",
        questions: "ì§ˆë¬¸ì‚¬í•­",
        bookedTheTicket: "ì¶œêµ­ ì¼ì •ì„ ì˜ ì •í•˜ì…¨ìŠµë‹ˆê¹Œ?ë§Œì•½ ê·¸ë ‡ë‹¤ë©´, êµ¬ì²´ì ìœ¼ë¡œ ì•ˆë°°ë¥¼ ì‘ì„±í•´ì£¼ì„¸ìš”.",
        bookedTheTicketYes: "ì˜ˆ",
        bookedTheTicketNo: "ì•„ë‹ˆìš”",
        contactsInChina: "ë‹¹ì‹ ì€ ì¤‘êµ­ì¸¡ ì´ˆì²­ ê¸°ê´€ì´ë‚˜ ì´ˆì²­ì¸ì´ ìˆìŠµë‹ˆê¹Œ?ìˆìœ¼ì‹œë©´ ì—°ë½ì²˜ë¥¼ ì‘ì„±í•´ì£¼ì„¸ìš”.",
        contactsInChinaYes: "ì˜ˆ",
        contactsInChinaNo: "ì•„ë‹ˆìš”",
        nameOfChineseInvitingUnit: "ì¤‘êµ­ ì¸¡ ì´ˆì²­ ë‹¨ìœ„ ë˜ëŠ” ì´ˆì²­ì¸ ëª…ì¹­",
        addressOfChineseInvitingUnit: "ì¤‘êµ­ ì¸¡ ì´ˆì²­ë‹¨ìœ„ ë˜ëŠ” ì´ˆì²­ì¸ ì£¼ì†Œ ë˜ëŠ” ì—°ë½ì²˜",
        countriesVisited: "ì§€ë‚œ 2ë…„ ë™ì•ˆ ì–´ëŠ ë‚˜ë¼ë¥¼ ë‹¤ë…€ì™”ìŠµë‹ˆê¹Œ?",
        receptionConfirmed: "ì ‘ëŒ€ ë‹¨ìœ„ í™•ì¸",
      },
      ru: {
        detailedAddress: "ĞĞ´Ñ€ĞµÑ Ğ¼ĞµÑÑ‚Ğ° Ğ¿Ñ€Ğ¾Ğ¶Ğ¸Ğ²Ğ°Ğ½Ğ¸Ñ Ğ¸Ğ»Ğ¸ Ğ½Ğ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ¾Ñ‚ĞµĞ»Ñ",
        departureFlight: "ĞĞ¾Ğ¼ĞµÑ€ Ñ€ĞµĞ¹ÑĞ°/Ğ¿Ğ¾ĞµĞ·Ğ´Ğ°/ÑÑƒĞ´Ğ½Ğ° Ğ½Ğ° Ğ²Ñ‹ĞµĞ·Ğ´",
        dateOfDeparture: "Ğ”Ğ°Ñ‚Ğ° Ğ²Ñ‹ĞµĞ·Ğ´Ğ°",
        cities: "Ğ“Ğ¾Ñ€Ğ¾Ğ´Ğ° Ğ² ĞšĞ¸Ñ‚Ğ°Ğµ, Ğ¿Ğ»Ğ°Ğ½Ğ¸Ñ€ÑƒĞµĞ¼Ñ‹Ğµ Ğº Ğ¿Ğ¾ÑĞµÑ‰ĞµĞ½Ğ¸Ñ",
        surname: "Ğ¤Ğ°Ğ¼Ğ¸Ğ»Ğ¸Ñ",
        givenNames: "Ğ˜Ğ¼Ñ",
        gender: "ĞŸĞ¾Ğ»",
        male: "ĞœÑƒĞ¶.",
        female: "Ğ–ĞµĞ½.",
        nationality: "Ğ“Ñ€Ğ°Ğ¶Ğ´Ğ°Ğ½ÑÑ‚Ğ²Ğ¾",
        dob: "Ğ”Ğ°Ñ‚Ğ° Ñ€Ğ¾Ğ¶Ğ´ĞµĞ½Ğ¸Ñ",
        chineseName: "ĞšĞ¸Ñ‚Ğ°Ğ¹ÑĞºĞ¾Ğµ Ğ¸Ğ¼Ñ ï¼ˆĞ½Ğ° ĞºĞ¸Ñ‚Ğ°Ğ¹ÑĞºĞ¾Ğ¼ ÑĞ·Ñ‹ĞºĞµï¼‰",
        passportNo: "ĞĞ¾Ğ¼ĞµÑ€ Ğ¿Ğ°ÑĞ¿Ğ¾Ñ€Ñ‚Ğ°",
        visa: "Ğ˜Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ Ğ¾ Ğ²Ğ¸Ğ·Ğµ",
        visaFree: "Ğ‘ĞµĞ·Ğ²Ğ¸Ğ·Ğ¾Ğ²Ñ‹Ğ¹ Ğ²ÑŠĞµĞ·Ğ´",
        visaFreeYes: "Ğ”Ğ°",
        visaFreeNo: "ĞĞµÑ‚",
        visaNo: "ĞĞ¾Ğ¼ĞµÑ€ Ğ²Ğ¸Ğ·Ñ‹",
        arrivalFlight: "ĞĞ¾Ğ¼ĞµÑ€ Ğ°Ğ²Ğ¸Ğ°Ñ€ĞµĞ¹ÑĞ°/ ĞĞ¾Ğ¼ĞµÑ€ Ğ¿Ğ¾ĞµĞ·Ğ´Ğ°/ ĞĞ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ğµ ÑÑƒĞ´Ğ½Ğ°",
        personalPhone: "ĞĞ¾Ğ¼ĞµÑ€ ĞºĞ¾Ğ½Ñ‚Ğ°ĞºÑ‚Ğ½Ğ¾Ğ³Ğ¾ Ñ‚ĞµĞ»ĞµÑ„Ğ¾Ğ½Ğ°",
        residence: "ĞĞ´Ñ€ĞµÑ Ğ² ĞšĞ¸Ñ‚Ğ°Ğµ",
        city: "Ğ“Ğ¾Ñ€Ğ¾Ğ´",
        purpose: "Ğ¦ĞµĞ»ÑŒ Ğ²Ğ¸Ğ·Ğ¸Ñ‚Ğ°",
        diplomacy: "Ğ”Ğ¸Ğ¿Ğ»Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹/Ğ¡Ğ»ÑƒĞ¶ĞµĞ±Ğ½Ñ‹Ğ¹",
        visiting: "Ğ”ĞµĞ»Ğ¾Ğ²Ğ¾Ğ¹/ĞšĞ¾Ğ¼Ğ¼ĞµÑ€Ñ‡ĞµÑĞºĞ¸Ğ¹",
        permanentResidence: "ĞŸÑ€Ğ¾Ğ¶Ğ¸Ğ²Ğ°Ğ½Ğ¸Ğµ",
        employment: "Ğ Ğ°Ğ±Ğ¾Ñ‚Ğ°",
        study: "Ğ£Ñ‡ĞµĞ±Ğ°",
        tourism: "Ğ¢ÑƒÑ€Ğ¸Ğ·Ğ¼",
        visitingRelatives: "ĞĞ°Ğ²ĞµÑÑ‚Ğ¸Ñ‚ÑŒ Ñ€Ğ¾Ğ´Ğ½Ñ‹Ñ…",
        transit: "Ğ¢Ñ€Ğ°Ğ½Ğ·Ğ¸Ñ‚",
        others: "Ğ˜Ğ½Ğ¾Ğ¹",
        questions: "Ğ’Ğ¾Ğ¿Ñ€Ğ¾ÑÑ‹",
        bookedTheTicket: "Ğ’Ñ‹ Ğ·Ğ°Ğ±Ñ€Ğ¾Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ»Ğ¸ Ğ¾Ğ±Ñ€Ğ°Ñ‚Ğ½Ñ‹Ğ¹ Ğ±Ğ¸Ğ»ĞµÑ‚? Ğ•ÑĞ»Ğ¸ Ğ´Ğ°, Ğ¿Ğ¾Ğ¶Ğ°Ğ»ÑƒĞ¹ÑÑ‚Ğ°, Ğ·Ğ°Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚Ğµ.",
        bookedTheTicketYes: "Ğ”Ğ°",
        bookedTheTicketNo: "ĞĞµÑ‚",
        contactsInChina: "Ğ•ÑÑ‚ÑŒ Ğ»Ğ¸ Ñƒ Ğ²Ğ°Ñ ĞºĞ¸Ñ‚Ğ°Ğ¹ÑĞºĞ°Ñ Ğ¿Ñ€Ğ¸Ğ³Ğ»Ğ°ÑˆĞ°ÑÑ‰Ğ°Ñ ÑÑ‚Ğ¾Ñ€Ğ¾Ğ½Ğ°? Ğ•ÑĞ»Ğ¸ Ğ´Ğ°, Ğ¿Ğ¾Ğ¶Ğ°Ğ»ÑƒĞ¹ÑÑ‚Ğ°, ÑƒĞºĞ°Ğ¶Ğ¸Ñ‚Ğµ ĞµÑ‘ ĞºĞ¾Ğ½Ñ‚Ğ°ĞºÑ‚Ğ½ÑƒÑ Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ.",
        contactsInChinaYes: "Ğ”Ğ°",
        contactsInChinaNo: "ĞĞµÑ‚",
        nameOfChineseInvitingUnit: "Ğ¤Ğ°Ğ¼Ğ¸Ğ»Ğ¸Ñ, Ğ¸Ğ¼Ñ Ğ¸Ğ»Ğ¸ Ğ½Ğ°Ğ¸Ğ¼ĞµĞ½Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ",
        addressOfChineseInvitingUnit: "ĞĞ´Ñ€ĞµÑ Ğ¸ Ğ½Ğ¾Ğ¼ĞµÑ€ ĞºĞ¾Ğ½Ñ‚Ğ°ĞºÑ‚Ğ½Ğ¾Ğ³Ğ¾ Ñ‚ĞµĞ»ĞµÑ„Ğ¾Ğ½Ğ°",
        countriesVisited: "Ğ’ ĞºĞ°ĞºĞ¸Ñ… ÑÑ‚Ñ€Ğ°Ğ½Ğ°Ñ… (Ñ€ĞµĞ³Ğ¸Ğ¾Ğ½Ğ°Ñ…) Ğ²Ñ‹ Ğ¿Ğ¾Ğ±Ñ‹Ğ²Ğ°Ğ»Ğ¸ Ğ·Ğ° Ğ¿Ğ¾ÑĞ»ĞµĞ´Ğ½Ğ¸Ğµ Ğ´Ğ²Ğ° Ğ³Ğ¾Ğ´Ğ°?"
      },
      fr: {
        detailedAddress: "Adresse complÃ¨te ou nom de l'hÃ´tel en Chine",
        departureFlight: "NumÃ©ro de vol/train/nom du navire pour le dÃ©part",
        dateOfDeparture: "Date de dÃ©part",
        cities: "Villes Ã  visiter en Chine",
        surname: "Nom de famille",
        givenNames: "PrÃ©nom",
        gender: "Sexe",
        male: "Homme",
        female: "Femme",
        nationality: "NationalitÃ©",
        dob: "Date de naissance",
        chineseName: "Nom chinois (remplissez en chinois, SVP)",
        passportNo: "NumÃ©ro de passport ou de document de voyage",
        visa: "Informations du visa",
        visaFree: "Exemption de visa",
        visaFreeYes: "Oui",
        visaFreeNo: "Non",
        visaNo: "NumÃ©ro de visa",
        arrivalFlight: "NumÃ©ro de vol/train/nom du navire",
        personalPhone: "NumÃ©ro de tÃ©lÃ©phone",
        residence: "Adresse en Chine",
        city: "Ville",
        purpose: "But de la visite",
        diplomacy: "Diplomatie/Service",
        visiting: "Visites dâ€™affaires",
        permanentResidence: "RÃ©sidence",
        employment: "Travail",
        study: "Ã‰tude",
        tourism: "Vacances",
        visitingRelatives: "Visite familiale",
        transit: "Transit",
        others: "Autres",
        questions: "Questions",
        bookedTheTicket: "Avez-vous rÃ©servÃ© le billet pour votre dÃ©part? Si oui, veuillez indiquer vos coordonnÃ©es de dÃ©part",
        bookedTheTicketYes: "Oui",
        bookedTheTicketNo: "Non",
        contactsInChina: "Avez-vous une rÃ©ception ou des contacts en Chine ? Si oui, veuillez indiquer vos coordonnÃ©es.",
        contactsInChinaYes: "Oui",
        contactsInChinaNo: "Non",
        nameOfChineseInvitingUnit: "Nom",
        addressOfChineseInvitingUnit: "Adresse et numÃ©ro de tÃ©lÃ©phone",
        countriesVisited: "Quels pays et rÃ©gions avez-vous visitÃ©s au cours des deux derniÃ¨res annÃ©es ?",
        receptionConfirmed: "UnitÃ© de rÃ©ception confirmÃ©e",
      },
      es: {
        detailedAddress: "Domicilio en China o nombre del hotel",
        departureFlight: "NÃºmero de vuelo/tren/barco de salida",
        dateOfDeparture: "Fecha de salida",
        cities: "Ciudad de estancia y de destino en China",
        surname: "Apellido(s)",
        givenNames: "Nombre",
        gender: "Sexo",
        male: "Masculino",
        female: "Femenino",
        nationality: "Nacionalidad",
        dob: "Fecha de nacimiento",
        chineseName: "Nombre chino (Escriba en chino por favor)",
        passportNo: "NÃºmero de pasaporte o nÃºmero de documentos de viaje",
        visa: "informaciÃ³n del visado",
        visaFree: "ExenciÃ³n de visado",
        visaFreeYes: "SÃ­",
        visaFreeNo: "No",
        visaNo: "NÃºmero del visado chino",
        arrivalFlight: "NÃºmero de vuelo/tren/barco a la llegada",
        personalPhone: "NÃºmero de telÃ©fono personal",
        residence: "informaciÃ³n del domicilio en China",
        city: "Ciudad",
        purpose: "Tipo de viaje",
        diplomacy: "Diplomacia/Servicio oficial",
        visiting: "Visitas/Negocios",
        permanentResidence: "Residencia",
        employment: "Trabajo",
        study: "Estudio",
        tourism: "Turismo",
        visitingRelatives: "Visita a familiares",
        transit: "TrÃ¡nsito",
        others: "Otro",
        questions: "Preguntas",
        bookedTheTicket: "Â¿Ha reservado el vuelo de salida? Si lo ha tenido, escriba la informaciÃ³n detallada, por favor.",
        bookedTheTicketYes: "SÃ­",
        bookedTheTicketNo: "No",
        contactsInChina: "Â¿Tiene alguna instituciÃ³n, empresa o persona que le invite a China? Si lo tiene, escriba la informaciÃ³n de contacto, por favor.",
        contactsInChinaYes: "SÃ­",
        contactsInChinaNo: "No",
        nameOfChineseInvitingUnit: "Nombre",
        addressOfChineseInvitingUnit: "DirecciÃ³n y nÃºmero de telÃ©fono en contacto",
        countriesVisited: "Â¿QuÃ© paÃ­ses ha visitado en los Ãºltimos dos aÃ±os?",
        receptionConfirmed: "Unidad de recepciÃ³n confirmada",
      }
    };

    function setLanguage(lang) {
      document.querySelectorAll("[data-translate]").forEach(el => {
        const key = el.getAttribute("data-translate");
        if (translations[lang] && translations[lang][key]) {
          el.textContent = translations[lang][key];
        }
      });
    }

    document.addEventListener("DOMContentLoaded", () => {
      setLanguage('en'); // Default language
    });
  </script>
</body>

</html>
